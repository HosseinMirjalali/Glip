{% extends "base.html" %}
{% load static %}
{% if clip %}
  {% block title %}{{ clip.title }}{% endblock %}
{% endif %}
<style>
</style>
{% block content %}
  {% if clip %}
    <br>
    <div class="embed-responsive embed-responsive-16by9 z-depth-1-half embedDetail">
      <iframe class="embed-responsive-item"
              src="{{ clip.embed_url }}&parent=glipsite.com&parent=www.glipsite.com&parent=localhost"
              allowfullscreen="true" width="100%"></iframe>
    </div>
    {% comment %}    {% for comment in clip.comments.all %}
      <div data-toggle="commentModal" id="comment{{ comment.id }}" data-target="#videoModal"
           data-commentContent="{{ comment.content }}"
           data-commentUser="{{ comment.user }}" data-commentTimestamp="{{ comment.timestamp }}"
           data-commentUserAvatar="{{ comment.user.socialaccount_set.all.0.get_avatar_url }}">
      </div>
    {% endfor %}{% endcomment %}
    <h3 class="text-white">Comments</h3>
    {% if clip.comments.all %}

      {% for comment in clip.comments.all %}

        <div class="card mb-4">
          <div class="card-body">
            <p class="commentContent text-dark">{{ comment.content }}</p>

            <div class="d-flex justify-content-between">
              <div class="d-flex flex-row align-items-center">
                <img
                        class="commentUserAvatar"
                        src="{{ comment.user.socialaccount_set.all.0.get_avatar_url }}"
                        alt="avatar"
                        width="25"
                        height="25"
                />
                <p class="small mb-0 ms-2 commentUser text-dark">{{ comment.user }}</p>
              </div>
              <div class="d-flex flex-row align-items-center">
                <p class="commentTimestamp small text-muted mb-0">{{ comment.timestamp }}</p>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
      {% else %}
      No comments yet...
    {% endif %}

  {% else %}
    <style>
      .masthead {
        height: 100vh;
        min-height: 500px;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
      }

      a {
        color: #6A5ACD;
      }

      .twitchLink {
        color: #a970ff;
      }

      hr {
        color: #6A5ACD;
      }
    </style>
    <div class="masthead justify-content-center text-center">
      <br><br><br><br><br><br><br>
      <strong>Clip not found :(</strong>
      <br>
      <strong>Please try again...</strong>
      <br>
      <hr>
      <br><br><br><br><br><br>
    </div>
  {% endif %}
{% endblock %}
