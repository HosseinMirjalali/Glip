{% extends "base.html" %}
{% load static %}
{% block title %}List of Followed Channels{% endblock %}

{% block content %}




  <style>
    .masthead {
      background-size: cover;
      background-position: center;
    }

    .card-group .card-transparent {
      border-radius: 15px;
      width: 100%;
      object-fit: cover;
      margin: 10px;
      border: 3px solid #A16AE8;
    }

    .btn {
      border: 2px solid #A16AE8;
      margin: 10px;
      color: #C0C0C0;
      transition: all .5s ease-in-out;
    }

    .btn:hover, .btn:focus, .btn:active {
      color: #fff;
      background-color: #603F8B;
    }

    h3 {
      overflow: hidden;

    }

    .media {

    }

    .mt-0 {
      margin-top: 10px;
    }

    .text-center {
      margin-top: 20px;
      margin-bottom: 20px;
      color: #FFFFFF;
    }

    .lead {
      color: #A16AE8;
    }

    .custom-text-h3 {
      transition: all .2s ease-in-out;
    }

    .custom-text-h3:hover, .custom-text-h3:focus, .custom-text-h3:active {
      color: #603F8B;
    }

    .card-img-top {
      border-top-left-radius: 15px;
      border-top-right-radius: 15px;
    }


  </style>


    <div class="masthead">
      <hr>
      {% if bulk_info %}

      <p class="text-center">Total follows: {{ bulk_info|length }}</p>
      <div class="media">
        <img src="{% static 'images/streamer.png' %}" width="64" height="64" class="mr-3" alt="...">
        <div class="media-body">
          <h5 class="mt-0">Streamers</h5>
          <p>See the streamers you have followed on Twitch and watch their top clips from the past 24 hours</p>
        </div>
      </div>
      <div class="row text-center align-self-center">
        {% for info in bulk_info|dictsort:"display_name" %}
          <div class="col-sm-2">
            <div class="card-group">
              <div class="card-transparent">
                <img src="{{ info.profile_image_url }}" alt="" class="card-img-top">
                <div class="card-content">
                  <br>
                  <a class="text-decoration-none" href="https://www.twitch.tv/{{ info.login }}"
                     target="_blank">
                    <h3 class="custom-text-h3" style="max-height: 2rem" data-toggle="tooltip" data-placement="top"
                        title="{{ info.display_name }}">{{ info.display_name }}</h3>
                  </a>
                  <form action="{% url 'clips:clip' %}" target="_blank" method="get" id="myForm">
                    <input type="text" value="{{ info.id }}" name="broadcaster_id" size="1" id="broadcaster_id"/>
                    <input type="hidden" value="20" name="first" size="1"/>
                    <input type="submit" class="btn" value="View {{ info.display_name }}'s top clips"
                           name="Submit" id="sub-btn">
                  </form>
                  {% comment %}                  {% if game.is_followed == True %}
                    <button value="unfollow" class="btn" id="{{ game.id }}" name="myButton">Unfollow</button>
                  {% else %}
                    <button value="follow" class="btn" id="{{ game.id }}" name="myButton">Follow</button>
                  {% endif %}{% endcomment %}
                </div><!-- card content -->
              </div><!-- card -->
            </div>
          </div><!-- col-md-4 -->
        {% endfor %}
      </div><!-- row closing -->
    </div><!-- masthead closing -->
























    {% comment %}  <style>
    .masthead {
      height: 100vh;
      background-size: cover;
      background-position: center;
    }
  </style>

  {% if bulk_info %}

    {#    <h1>Total follows: {{ bulk_info|length }} </h1>#}
    <div class="masthead">
      <p class="text-center">Total follows: {{ bulk_info|length }}</p>
      <div class="row text-center">
        {% for info in bulk_info|dictsort:"display_name" %}
          <div class="col-sm-2">
            <div class="card-group">
              <div class="card">
                <img src="{{ info.profile_image_url }}" alt="" class="rounded-circle">
                <div class="card-content">
                  <br>
                  <a href="https://www.twitch.tv/{{ info.login }}" target="_blank">
                    <h3>{{ info.display_name }}</h3>
                  </a>
                  <hr>
                  <p>Total view count: {{ info.view_count }}</p>
                  <form action="{% url 'clips:clip' %}" target="_blank" method="get" id="myForm">
                    <input type="text" value="{{ info.id }}" name="broadcaster_id" size="1" id="broadcaster_id"/>
                    <input type="hidden" value="20" name="first" size="1"/>
                    <input type="submit" class="btn" value="View {{ info.display_name }}'s top clips"
                           name="Submit" id="sub-btn">
                  </form>
                </div><!-- card content -->
              </div><!-- card -->
            </div>
          </div><!-- col-md-4 -->
        {% endfor %}
      </div><!-- row closing -->
    </div><!-- masthead closing -->{% endcomment %}

  {% else %}
    <strong>No channels followed.</strong>
  {% endif %}



{% endblock content %}
